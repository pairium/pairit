{
	"schema_version": "0.1.0",
	"initialPageId": "intro",
	"nodes": [
		{
			"id": "intro",
			"components": [
				{
					"type": "text",
					"props": {
						"text": "# Matchmaking Test\n\nThis is a simple test of the matchmaking system.\nOpen this page in 2 browser tabs to test matching.\n"
					}
				},
				{
					"type": "buttons",
					"props": {
						"buttons": [
							{
								"id": "join",
								"text": "Join matchmaking",
								"action": {
									"type": "go_to",
									"target": "waiting"
								}
							}
						]
					}
				}
			]
		},
		{
			"id": "waiting",
			"components": [
				{
					"type": "matchmaking",
					"props": {
						"poolId": "test_pool",
						"num_users": 2,
						"timeoutSeconds": 60,
						"timeoutTarget": "timeout",
						"onMatchTarget": "matched"
					}
				}
			]
		},
		{
			"id": "matched",
			"components": [
				{
					"type": "text",
					"props": {
						"text": "# Matched!\n\nYou have been matched with another participant.\n"
					}
				},
				{
					"type": "chat"
				},
				{
					"type": "buttons",
					"props": {
						"buttons": [
							{
								"id": "done",
								"text": "End session",
								"action": {
									"type": "go_to",
									"target": "end"
								}
							}
						]
					}
				}
			]
		},
		{
			"id": "timeout",
			"end": true,
			"components": [
				{
					"type": "text",
					"props": {
						"text": "# Timeout\n\nSorry, we couldn't find a match in time.\nPlease try again later.\n"
					}
				}
			]
		},
		{
			"id": "end",
			"end": true,
			"components": [
				{
					"type": "text",
					"props": {
						"text": "# Done\n\nThank you for testing!\n"
					}
				}
			]
		}
	]
}
