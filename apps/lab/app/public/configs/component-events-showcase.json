{
	"schema_version": "0.1.0",
	"initialPageId": "intro",
	"nodes": [
		{
			"id": "intro",
			"text": "Welcome to the component events showcase. This demonstrates how to configure events for different interactive components.",
			"buttons": [
				{
					"id": "start",
					"text": "Begin showcase",
					"action": {
						"type": "go_to",
						"target": "button_examples"
					},
					"events": {
						"onClick": {
							"type": "button_click",
							"data": {
								"button_id": "start",
								"label": "Begin showcase",
								"section": "navigation"
							}
						}
					}
				}
			]
		},
		{
			"id": "button_examples",
			"text": "Button event examples. Each button click will emit a custom event with metadata.",
			"components": [
				{
					"type": "buttons",
					"id": "button_group_1",
					"props": {
						"buttons": [
							{
								"id": "primary_action",
								"text": "Primary Action",
								"action": {
									"type": "go_to",
									"target": "survey_examples"
								},
								"events": {
									"onClick": {
										"type": "button_click",
										"data": {
											"button_id": "primary_action",
											"category": "primary",
											"priority": "high"
										}
									}
								}
							},
							{
								"id": "secondary_action",
								"text": "Secondary Action",
								"action": {
									"type": "go_to",
									"target": "media_examples"
								},
								"events": {
									"onClick": {
										"type": "button_click",
										"data": {
											"button_id": "secondary_action",
											"category": "secondary",
											"priority": "medium"
										}
									}
								}
							},
							{
								"id": "cancel_action",
								"text": "Cancel",
								"action": {
									"type": "go_to",
									"target": "outro"
								},
								"events": {
									"onClick": {
										"type": "button_click",
										"data": {
											"button_id": "cancel_action",
											"category": "cancel",
											"priority": "low"
										}
									}
								}
							}
						]
					}
				}
			]
		},
		{
			"id": "survey_examples",
			"text": "Survey components automatically emit survey_submission events. Here's a simple example.",
			"survey": [
				{
					"id": "user_satisfaction",
					"text": "How satisfied are you with this demo?",
					"answer": "likert5",
					"description": "Your feedback helps us improve."
				}
			],
			"buttons": [
				{
					"id": "survey_continue",
					"text": "Continue",
					"action": {
						"type": "go_to",
						"target": "media_examples"
					}
				}
			]
		},
		{
			"id": "media_examples",
			"text": "Media components can emit various interaction events.",
			"components": [
				{
					"type": "media",
					"id": "demo_video",
					"props": {
						"type": "video",
						"src": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
						"label": "Demo video"
					},
					"events": {
						"onPlay": {
							"type": "media_play",
							"data": {
								"media_id": "demo_video",
								"media_type": "video",
								"content": "demo_content"
							}
						},
						"onPause": {
							"type": "media_pause",
							"data": {
								"media_id": "demo_video",
								"media_type": "video"
							}
						},
						"onSeek": {
							"type": "media_seek",
							"data": {
								"media_id": "demo_video",
								"media_type": "video"
							}
						},
						"onComplete": {
							"type": "media_complete",
							"data": {
								"media_id": "demo_video",
								"media_type": "video",
								"completion_rate": 100
							}
						},
						"onError": {
							"type": "media_error",
							"data": {
								"media_id": "demo_video",
								"media_type": "video",
								"error_type": "playback_error"
							}
						}
					}
				}
			],
			"buttons": [
				{
					"id": "media_continue",
					"text": "Continue",
					"action": {
						"type": "go_to",
						"target": "matchmaking_examples"
					}
				}
			]
		},
		{
			"id": "matchmaking_examples",
			"text": "Matchmaking components emit events during the matching process.",
			"components": [
				{
					"type": "matchmaking",
					"id": "demo_matchmaking",
					"props": {
						"num_users": 2,
						"timeoutSeconds": 30
					},
					"events": {
						"onRequestStart": {
							"type": "matchmaking_start",
							"data": {
								"pool_id": "demo_pool",
								"expected_participants": 2
							}
						},
						"onMatchFound": {
							"type": "matchmaking_success",
							"data": {
								"pool_id": "demo_pool",
								"match_duration_seconds": 15
							}
						},
						"onTimeout": {
							"type": "matchmaking_timeout",
							"data": {
								"pool_id": "demo_pool",
								"wait_duration_seconds": 30
							}
						},
						"onCancel": {
							"type": "matchmaking_cancel",
							"data": {
								"pool_id": "demo_pool",
								"cancel_reason": "user_initiated"
							}
						}
					}
				}
			],
			"buttons": [
				{
					"id": "matchmaking_continue",
					"text": "Continue",
					"action": {
						"type": "go_to",
						"target": "chat_examples"
					}
				}
			]
		},
		{
			"id": "chat_examples",
			"text": "Chat components emit events for messaging interactions.",
			"components": [
				{
					"type": "chat",
					"id": "demo_chat",
					"props": {
						"group_id": "demo_group"
					},
					"events": {
						"onMessageSend": {
							"type": "chat_message_sent",
							"data": {
								"chat_group_id": "demo_group",
								"message_type": "text"
							}
						},
						"onMessageReceive": {
							"type": "chat_message_received",
							"data": {
								"chat_group_id": "demo_group",
								"sender_type": "participant"
							}
						},
						"onTypingStart": {
							"type": "chat_typing_start",
							"data": {
								"chat_group_id": "demo_group"
							}
						},
						"onTypingStop": {
							"type": "chat_typing_stop",
							"data": {
								"chat_group_id": "demo_group"
							}
						}
					}
				}
			],
			"buttons": [
				{
					"id": "chat_continue",
					"text": "Continue",
					"action": {
						"type": "go_to",
						"target": "form_examples"
					}
				}
			]
		},
		{
			"id": "form_examples",
			"text": "Generic form components emit submission and field change events.",
			"components": [
				{
					"type": "form",
					"id": "contact_form",
					"props": {
						"fields": [
							{
								"id": "email",
								"label": "Email Address",
								"type": "email",
								"required": true
							},
							{
								"id": "feedback",
								"label": "Additional Feedback",
								"type": "textarea"
							}
						]
					},
					"events": {
						"onSubmit": {
							"type": "form_submission",
							"data": {
								"form_id": "contact_form",
								"form_type": "contact"
							}
						},
						"onFieldChange": {
							"type": "form_field_change",
							"data": {
								"form_id": "contact_form",
								"field_type": "input"
							}
						}
					}
				}
			],
			"buttons": [
				{
					"id": "form_continue",
					"text": "Continue",
					"action": {
						"type": "go_to",
						"target": "outro"
					}
				}
			]
		},
		{
			"id": "outro",
			"end": true,
			"endRedirectUrl": "https://app.prolific.com/submissions/complete?cc=EVENTS123",
			"text": "Thank you for exploring the component events showcase! All your interactions have been recorded as events for analysis.",
			"buttons": [
				{
					"id": "restart",
					"text": "Start Over",
					"action": {
						"type": "go_to",
						"target": "intro"
					},
					"events": {
						"onClick": {
							"type": "session_restart",
							"data": {
								"reason": "user_initiated"
							}
						}
					}
				}
			]
		}
	]
}
